(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),i=n.n(r),s=n(8),o=n(10),m=n(4),l=n(0);var u=function(e){var t=e.handleSubmit,n=e.submitLabel,c=e.hasCancelButton,r=void 0!==c&&c,i=e.handleCancel,s=e.initialText,o=void 0===s?"":s,u=Object(a.useState)(o),d=Object(m.a)(u,2),j=d[0],b=d[1],p=0===j.length;return Object(l.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(j),b("")},children:[Object(l.jsx)("textarea",{className:"comment-form-textarea",placeholder:"What are your thoughts?",value:j,onChange:function(e){return b(e.target.value)}}),Object(l.jsx)("button",{className:"comment-form-button",disabled:p,children:n}),r&&Object(l.jsx)("button",{type:"button",className:"comment-form-button comment-form-cancel-button",onClick:i,children:"Cancel"})]})},d=function e(t){var n=t.comment,a=t.replies,c=t.setActiveComment,r=t.activeComment,i=t.updateComment,s=t.deleteComment,o=t.addComment,m=t.parentId,d=void 0===m?null:m,j=t.currentUserId,b=r&&r.id===n.id&&"editing"===r.type,p=r&&r.id===n.id&&"replying"===r.type,h=new Date-new Date(n.createdAt)>3e5,f=j===n.userId&&0===a.length,v=Boolean(j),O=j===n.userId&&!h,x=d||n.id;return Object(l.jsxs)("div",{className:"comment",children:[Object(l.jsx)("div",{className:"comment-image-container",children:Object(l.jsx)("img",{class:"img",src:"/pic.png"})}),Object(l.jsxs)("div",{className:"comment-right-part",children:[Object(l.jsxs)("div",{className:"comment-content",children:[Object(l.jsx)("div",{className:"comment-author",children:n.username}),Object(l.jsx)("div",{className:"email",children:n.email})]}),!b&&Object(l.jsx)("div",{className:"comment-text",children:n.body}),b&&Object(l.jsx)(u,{submitLabel:"Update",hasCancelButton:!0,initialText:n.body,handleSubmit:function(e){return i(e,n.id)},handleCancel:function(){c(null)}}),Object(l.jsxs)("div",{className:"comment-actions",children:[v&&Object(l.jsx)("div",{className:"comment-action",onClick:function(){return c({id:n.id,type:"replying"})},children:"Reply"}),O&&Object(l.jsx)("div",{className:"comment-action",onClick:function(){return c({id:n.id,type:"editing"})},children:"Edit"}),f&&Object(l.jsx)("div",{className:"comment-action",onClick:function(){return s(n.id)},children:"Delete"})]}),p&&Object(l.jsx)(u,{submitLabel:"Reply",handleSubmit:function(e){return o(e,x)}}),a.length>0&&Object(l.jsx)("div",{className:"replies",children:a.map((function(t){return Object(l.jsx)(e,{comment:t,setActiveComment:c,activeComment:r,updateComment:i,deleteComment:s,addComment:o,parentId:n.id,replies:[],currentUserId:j},t.id)}))})]})]},n.id)},j=n(2),b=n.n(j),p=n(5),h=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{id:"1",body:"Dude Im so pumped up for the event",username:"Jack",userId:"1",parentId:null,email:"jackhampton@gmail.com",createdAt:"2021-08-22T23:00:33.010+02:00"},{id:"2",body:"Can someone help me with accomodation? and provide me some information?",username:"Craig",userId:"2",parentId:null,email:"Craigcaldwell@gmail.com",createdAt:"2021-08-22T23:00:33.010+02:00"},{id:"3",body:"Yeah right!! I can totally relate",username:"Taylor",userId:"2",parentId:"1",email:"Taylorhampton@gmail.com",createdAt:"2021-08-22T23:00:33.010+02:00"},{id:"4",body:"I have some arrangements, maybe I can help. Message ME!!",username:"Adama",userId:"2",parentId:"2",email:"Adamahampton@gmail.com",createdAt:"2021-08-16T22:00:33.010+02:00"}]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.abrupt("return",{id:Math.random().toString(36).substr(2,9),body:t,parentId:n,userId:"1",username:"John",email:"jackhampton@gmail.com",createdAt:(new Date).toISOString()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{text:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){e.commentsUrl;var t=e.currentUserId,n=Object(a.useState)([]),c=Object(m.a)(n,2),r=c[0],i=c[1],j=Object(a.useState)(null),b=Object(m.a)(j,2),p=b[0],x=b[1],g=r.filter((function(e){return null===e.parentId})),y=function(e,t){f(e,t).then((function(e){i([e].concat(Object(o.a)(r))),x(null)}))},C=function(e,t){v(e).then((function(){var n=r.map((function(n){return n.id===t?Object(s.a)(Object(s.a)({},n),{},{body:e}):n}));i(n),x(null)}))},I=function(e){window.confirm("Are you sure you want to remove comment?")&&O().then((function(){var t=r.filter((function(t){return t.id!==e}));i(t)}))};return Object(a.useEffect)((function(){h().then((function(e){i(e)}))}),[]),Object(l.jsxs)("div",{className:"comments",children:[Object(l.jsxs)("div",{className:"Title",children:[Object(l.jsx)("h3",{className:"comments-title",children:"DOTA Internationals 2021"}),Object(l.jsx)("img",{className:"banner",src:"/dota.jpg",alt:"dota international 2021 banner"})]}),Object(l.jsx)(u,{submitLabel:"Post",handleSubmit:y}),Object(l.jsx)("div",{className:"comments-container",children:g.map((function(e){return Object(l.jsx)(d,{comment:e,replies:(n=e.id,r.filter((function(e){return e.parentId===n})).sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}))),activeComment:p,setActiveComment:x,addComment:y,deleteComment:I,updateComment:C,currentUserId:t},e.id);var n}))})]})},g=function(){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("nav",{className:"nav_container",children:[Object(l.jsx)("span",{class:"nav",children:"Home"}),Object(l.jsx)("span",{class:"nav",children:"Profile "}),Object(l.jsx)("span",{class:"nav",children:" Notifications "})]}),Object(l.jsxs)("div",{className:"post_container",children:[" ",Object(l.jsx)("h1",{className:"header",children:"E-sports Review "}),Object(l.jsx)(x,{commentsUrl:"http://localhost:3004/comments",currentUserId:"1"})]}),Object(l.jsx)("footer",{className:"footer",children:"\xa9 Copyrights by Angle sport reviews"})]})};n(17);i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.05e7f9b7.chunk.js.map